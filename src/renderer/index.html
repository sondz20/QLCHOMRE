<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chrome Manager - Qu·∫£n l√Ω Chrome Profiles & Proxy</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="confirm-modal.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1><i class="fab fa-chrome"></i> Chrome Manager</h1>
                <div class="header-stats">
                    <span class="stat-item">
                        <i class="fas fa-user"></i>
                        <span id="profileCount">0</span> Profiles
                    </span>
                    <span class="stat-item">
                        <i class="fas fa-network-wired"></i>
                        <span id="proxyCount">0</span> Proxies
                    </span>
                    <span class="stat-item">
                        <i class="fas fa-play-circle"></i>
                        <span id="runningCount">0</span> Running
                    </span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Navigation Bar -->
            <nav class="top-nav">
                <div class="nav-tabs">
                    <button class="nav-item active" data-tab="profiles">
                        <i class="fas fa-user"></i>
                        <span>Profiles</span>
                    </button>
                    <button class="nav-item" data-tab="proxies">
                        <i class="fas fa-network-wired"></i>
                        <span>Proxies</span>
                    </button>
                    <button class="nav-item" data-tab="extensions">
                        <i class="fas fa-puzzle-piece"></i>
                        <span>Extensions</span>
                    </button>
                    <button class="nav-item" data-tab="running">
                        <i class="fas fa-play-circle"></i>
                        <span>Running</span>
                    </button>
                    <button class="nav-item" data-tab="settings">
                        <i class="fas fa-cog"></i>
                        <span>C√†i ƒê·∫∑t</span>
                    </button>
                </div>
            </nav>
            
            <!-- Content with Sidebar -->
            <div class="content-with-sidebar">
                <!-- Left Groups Sidebar -->
                <aside class="groups-sidebar">
                    <div class="groups-header">
                        <h3><i class="fas fa-layer-group"></i> Nh√≥m</h3>
                        <button class="btn btn-sm btn-primary" id="createGroupBtnSidebar">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="groups-list" id="groupsList">
                        <!-- Groups will be loaded here -->
                    </div>
                </aside>

                <!-- Content Area -->
                <main class="content-area">
                <!-- Profiles Tab -->
                <div id="profiles-tab" class="tab-content active">
                    <div class="tab-header">
                        <h2>Qu·∫£n l√Ω Profiles</h2>
                    </div>
                    
                    <!-- Search and Filter Bar -->
                    <div class="search-filter-bar">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="profileSearch" placeholder="T√¨m ki·∫øm profiles...">
                        </div>
                        <div class="filter-options">
                            <select id="proxyFilter">
                                <option value="">T·∫•t c·∫£ proxy</option>
                                <option value="with-proxy">C√≥ proxy</option>
                                <option value="no-proxy">Kh√¥ng proxy</option>
                            </select>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="createProfileBtn" title="T·∫°o profile m·ªõi">
                                <i class="fas fa-plus"></i> T·∫°o Profile
                            </button>
                            <button class="btn btn-info" id="addCardBtn" title="Qu·∫£n l√Ω th·∫ª">
                                <i class="fas fa-credit-card"></i> Th√™m th·∫ª
                            </button>
                            <div class="dropdown-container" style="display: none;" id="editProfileDropdown">
                                <button class="btn btn-secondary dropdown-toggle" id="editProfileBtn" title="Edit h·ªì s∆° ƒë√£ ch·ªçn">
                                    <i class="fas fa-edit"></i> Edit H·ªì S∆°
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                                <div class="dropdown-menu" id="editProfileMenu">
                                    <button class="dropdown-item" id="editCardsBtn">
                                        <i class="fas fa-credit-card"></i> Th√™m/S·ª≠a Th·∫ª
                                    </button>
                                    <button class="dropdown-item" id="editGroupsBtn">
                                        <i class="fas fa-layer-group"></i> Th√™m/Chuy·ªÉn Nh√≥m
                                    </button>
                                    <button class="dropdown-item" id="bulkImportProxyBtn">
                                        <i class="fas fa-list"></i> Th√™m/S·ª≠a Proxy
                                    </button>
                                    <button class="dropdown-item" id="editBookmarksBtn">
                                        <i class="fas fa-bookmark"></i> Th√™m D·∫•u Trang
                                    </button>
                                    <button class="dropdown-item" id="editTabsBtn">
                                        <i class="fas fa-window-restore"></i> Qu·∫£n L√Ω Tabs
                                    </button>
                                </div>
                            </div>
                            <button class="btn btn-success" id="openSelectedBtn" title="M·ªü c√°c h·ªì s∆° ƒë√£ ch·ªçn" style="display: none;">
                                <i class="fas fa-play"></i> M·ªü
                            </button>
                            <button class="btn btn-warning" id="closeSelectedBtn" title="T·∫Øt c√°c h·ªì s∆° ƒë√£ ch·ªçn" style="display: none;">
                                <i class="fas fa-stop"></i> T·∫Øt
                            </button>
                            <button class="btn btn-danger" id="deleteSelectedProfilesBtn" title="X√≥a c√°c h·ªì s∆° ƒë√£ ch·ªçn" style="display: none;">
                                <i class="fas fa-trash"></i> X√≥a
                            </button>
                        </div>
                    </div>
                    
                    <div class="profiles-table-container">
                        <table class="profiles-table">
                            <thead>
                                <tr>
                                    <th>
                                        <input type="checkbox" id="selectAllProfiles">
                                    </th>
                                    <th>STT</th>
                                    <th>T√™n Profile</th>
                                    <th>Nh√≥m</th>
                                    <th>Th·∫ª</th>
                                    <th>Extensions</th>
                                    <th>Proxy</th>
                                    <th>Ng√†y t·∫°o</th>
                                    <th>H√†nh ƒë·ªông</th>
                                </tr>
                            </thead>
                            <tbody id="profilesTableBody">
                                <!-- Profiles s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Proxies Tab -->
                <div id="proxies-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>Qu·∫£n l√Ω Proxies</h2>
                        <div class="tab-actions">
                            <button class="btn btn-warning" id="cleanupDuplicateProxiesBtn" title="D·ªçn d·∫πp proxy tr√πng l·∫∑p">
                                <i class="fas fa-broom"></i> D·ªçn d·∫πp tr√πng l·∫∑p
                            </button>
                            <button class="btn btn-info" id="checkSelectedProxiesBtn" title="Check proxy ƒë√£ ch·ªçn">
                                <i class="fas fa-check-circle"></i> Check Selected
                            </button>
                            <button class="btn btn-secondary" id="importProxiesBtn">
                                <i class="fas fa-upload"></i> Import
                            </button>
                            <button class="btn btn-primary" id="addProxyBtn">
                                <i class="fas fa-plus"></i> Th√™m Proxy
                            </button>
                        </div>
                    </div>
                    
                    <div class="proxies-table-container">
                        <table class="proxies-table">
                            <thead>
                                <tr>
                                    <th>
                                        <input type="checkbox" id="selectAllProxies">
                                    </th>
                                    <th>Host</th>
                                    <th>Port</th>
                                    <th>Username</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                    <th>S·ª≠ d·ª•ng</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="proxiesTableBody">
                                <!-- Proxies s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Extensions Tab -->
                <div id="extensions-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>Qu·∫£n l√Ω Extensions</h2>
                    </div>
                    
                    <!-- Search and Filter Bar -->
                    <div class="search-filter-bar">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="extensionSearch" placeholder="T√¨m ki·∫øm extensions...">
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-secondary" id="refreshExtensionsBtn" title="L√†m m·ªõi danh s√°ch">
                                <i class="fas fa-refresh"></i> L√†m m·ªõi
                            </button>
                            <button class="btn btn-primary" id="addExtensionBtn" title="Th√™m extension m·ªõi">
                                <i class="fas fa-plus"></i> Th√™m Extension
                            </button>
                        </div>
                    </div>
                    
                    <!-- Extensions Grid -->
                    <div class="extensions-grid" id="extensionsGrid">
                        <!-- Extensions s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                    </div>
                </div>

                <!-- Running Tab -->
                <div id="running-tab" class="tab-content">
                    <div class="tab-header">
                        <h2>Chrome Instances ƒêang Ch·∫°y</h2>
                        <button class="btn btn-danger" id="stopAllBtn">
                            <i class="fas fa-stop"></i> D·ª´ng T·∫•t C·∫£
                        </button>
                    </div>
                    
                    <div class="running-instances" id="runningInstances">
                        <!-- Running instances s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                    </div>
                </div>

            <!-- Settings Tab -->
                <div id="settings-tab" class="tab-content">
                    <div class="tab-header">
                        <h2><i class="fas fa-cog"></i> C√†i ƒê·∫∑t H·ªá Th·ªëng</h2>
                    </div>
                    
                    <div class="settings-actions" style="margin-bottom: 2rem;">
                        <button class="btn btn-primary" id="saveSettings">
                            <i class="fas fa-save"></i> L∆∞u C√†i ƒê·∫∑t
                        </button>
                        <button class="btn btn-secondary" id="resetSettings">
                            <i class="fas fa-undo"></i> Kh√¥i Ph·ª•c M·∫∑c ƒê·ªãnh
                        </button>
                        <button class="btn btn-info" id="exportSettings">
                            <i class="fas fa-download"></i> Xu·∫•t C√†i ƒê·∫∑t
                        </button>
                        <button class="btn btn-warning" id="importSettings">
                            <i class="fas fa-upload"></i> Nh·∫≠p C√†i ƒê·∫∑t
                        </button>
                    </div>
                    <div class="settings-content">
                        <div class="settings-section">
                            <h3><i class="fas fa-chrome"></i> Chrome Settings</h3>
                            <div class="setting-item">
                                <label>Chrome Path:</label>
                                <div class="setting-item-horizontal">
                                    <input type="text" id="chromePath" placeholder="ƒê∆∞·ªùng d·∫´n ƒë·∫øn Chrome executable">
                                    <button class="btn btn-sm btn-secondary" id="browseChromePath">
                                        <i class="fas fa-folder-open"></i> Browse
                                    </button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label>User Data Path:</label>
                                <div class="setting-item-horizontal">
                                    <input type="text" id="userDataPath" placeholder="ƒê∆∞·ªùng d·∫´n l∆∞u tr·ªØ profile data">
                                    <button class="btn btn-sm btn-secondary" id="browseUserDataPath">
                                        <i class="fas fa-folder-open"></i> Browse
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3><i class="fas fa-network-wired"></i> Proxy Settings</h3>
                            <div class="setting-item">
                                <label>Default Proxy Type:</label>
                                <select id="defaultProxyType">
                                    <option value="http">HTTP</option>
                                    <option value="socks5">SOCKS5</option>
                                    <option value="socks4">SOCKS4</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label>Proxy Timeout (seconds):</label>
                                <input type="number" id="proxyTimeout" value="30" min="5" max="300">
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3><i class="fas fa-puzzle-piece"></i> Extension Settings</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="autoInstallExtensions" checked>
                                    T·ª± ƒë·ªông c√†i ƒë·∫∑t extensions cho profile m·ªõi
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="autoPinExtensions" checked>
                                    T·ª± ƒë·ªông pin extensions
                                </label>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h3><i class="fas fa-shield-alt"></i> Security Settings</h3>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="enableProfileEncryption">
                                    M√£ h√≥a d·ªØ li·ªáu profile
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="clearCacheOnClose">
                                    X√≥a cache khi ƒë√≥ng Chrome
                                </label>
                            </div>
                        </div>

                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <!-- Create Profile Modal -->
    <div id="createProfileModal" class="modal-overlay">
        <div class="modal-container modern-modal">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-user-plus"></i>
                    T·∫°o Profile M·ªõi
                </h3>
                <button class="modal-close-btn" onclick="chromeManager.hideModal('createProfileModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <form id="createProfileForm" class="modern-form">
                    <!-- Th√¥ng tin c∆° b·∫£n -->
                    <div class="form-section">
                        <h4 class="section-title">
                            <i class="fas fa-info-circle"></i>
                            Th√¥ng tin c∆° b·∫£n
                        </h4>
                        
                        <div class="form-group">
                            <label for="profileName" class="form-label">
                                T√™n Profile <span class="required">*</span>
                            </label>
                            <input type="text" 
                                   id="profileName" 
                                   name="profileName"
                                   class="form-input"
                                   required 
                                   placeholder="Nh·∫≠p t√™n profile"
                                   minlength="3"
                                   maxlength="50">
                            <span class="form-hint">3-50 k√Ω t·ª±</span>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profileGroup" class="form-label">Nh√≥m</label>
                                <select id="profileGroup" name="profileGroup" class="form-select">
                                    <option value="">Kh√¥ng nh√≥m</option>
                                    <!-- Groups s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="profileCard" class="form-label">Th·∫ª thanh to√°n</label>
                                <select id="profileCard" name="profileCard" class="form-select">
                                    <option value="">Ch·ªçn th·∫ª</option>
                                    <!-- Cards s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- C·∫•u h√¨nh Proxy -->
                    <div class="form-section">
                        <h4 class="section-title">
                            <i class="fas fa-network-wired"></i>
                            C·∫•u h√¨nh Proxy
                        </h4>
                        
                        <div class="proxy-tabs-container">
                            <div class="proxy-tabs">
                                <button type="button" class="proxy-tab active" data-proxy-type="none">
                                    <i class="fas fa-globe"></i>
                                    <span>Tr·ª±c ti·∫øp</span>
                                </button>
                                <button type="button" class="proxy-tab" data-proxy-type="existing">
                                    <i class="fas fa-list"></i>
                                    <span>C√≥ s·∫µn</span>
                                </button>
                                <button type="button" class="proxy-tab" data-proxy-type="common">
                                    <i class="fas fa-plus"></i>
                                    <span>Th√™m m·ªõi</span>
                                </button>
                            </div>
                            
                            <!-- None Proxy Content -->
                            <div id="proxy-none" class="proxy-tab-content active">
                                <div class="proxy-info-card">
                                    <div class="info-icon">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                    <div class="info-content">
                                        <h5>K·∫øt n·ªëi tr·ª±c ti·∫øp</h5>
                                        <p>Kh√¥ng s·ª≠ d·ª•ng proxy</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Existing Proxy Content -->
                            <div id="proxy-existing" class="proxy-tab-content">
                                <div class="form-group">
                                    <label class="form-label">Ch·ªçn proxy t·ª´ danh s√°ch</label>
                                    <div class="proxy-selector">
                                        <div class="search-container">
                                            <input type="text" 
                                                   id="proxySearchInput" 
                                                   class="search-input"
                                                   placeholder="T√¨m ki·∫øm proxy...">
                                        </div>
                                        <div class="proxy-list" id="existingProxyList">
                                            <div class="proxy-list-empty">
                                                <i class="fas fa-network-wired"></i>
                                                <h5>Ch∆∞a c√≥ proxy</h5>
                                                <p>Th√™m ·ªü tab "Qu·∫£n l√Ω Proxy"</p>
                                            </div>
                                        </div>
                                        <input type="hidden" id="selectedProxyId" name="selectedProxyId">
                                    </div>
                                    
                                    <div class="action-row">
                                        <button type="button" class="btn btn-sm btn-secondary" id="refreshProxyListBtn">
                                            <i class="fas fa-sync-alt"></i>
                                            L√†m m·ªõi
                                        </button>
                                        <button type="button" class="btn btn-sm btn-info" id="testSelectedProxyBtn">
                                            <i class="fas fa-vial"></i>
                                            Ki·ªÉm tra
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Common Proxy Content -->
                            <div id="proxy-common" class="proxy-tab-content">
                                <div class="form-group">
                                    <label for="proxyType" class="form-label">Lo·∫°i proxy</label>
                                    <select id="proxyType" name="proxyType" class="form-select">
                                        <option value="HTTP">HTTP</option>
                                        <option value="HTTPS">HTTPS</option>
                                        <option value="SOCKS4">SOCKS4</option>
                                        <option value="SOCKS5">SOCKS5</option>
                                    </select>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="proxyHost" class="form-label">Host</label>
                                        <input type="text" 
                                               id="proxyHost" 
                                               name="proxyHost" 
                                               class="form-input"
                                               placeholder="192.168.1.1"
                                               title="Nh·∫≠p host:port:username:password ƒë·ªÉ t·ª± ƒë·ªông ƒëi·ªÅn">
                                    </div>
                                    <div class="form-group">
                                        <label for="proxyPort" class="form-label">Port</label>
                                        <input type="number" 
                                               id="proxyPort" 
                                               name="proxyPort" 
                                               class="form-input"
                                               placeholder="8080" 
                                               min="1" 
                                               max="65535">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="proxyUsername" class="form-label">Username</label>
                                        <input type="text" 
                                               id="proxyUsername" 
                                               name="proxyUsername" 
                                               class="form-input"
                                               placeholder="T√πy ch·ªçn">
                                    </div>
                                    <div class="form-group">
                                        <label for="proxyPassword" class="form-label">Password</label>
                                        <input type="password" 
                                               id="proxyPassword" 
                                               name="proxyPassword" 
                                               class="form-input"
                                               placeholder="T√πy ch·ªçn">
                                    </div>
                                </div>
                                
                                <div class="action-row">
                                    <button type="button" class="btn btn-sm btn-secondary" id="testProxyBtn">
                                        <i class="fas fa-vial"></i>
                                        Ki·ªÉm tra
                                    </button>
                                    <button type="button" class="btn btn-sm btn-success" id="saveProxyBtn">
                                        <i class="fas fa-save"></i>
                                        L∆∞u proxy
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ghi ch√∫ -->
                    <div class="form-section">
                        <h4 class="section-title">
                            <i class="fas fa-sticky-note"></i>
                            Ghi ch√∫
                        </h4>
                        
                        <div class="form-group">
                            <label for="profileNotes" class="form-label">Ghi ch√∫</label>
                            <textarea id="profileNotes" 
                                      name="profileNotes" 
                                      class="form-textarea"
                                      placeholder="M√¥ t·∫£ ng·∫Øn..."
                                      rows="2"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            
                            <div class="modal-actions">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="chromeManager.hideModal('createProfileModal')">
                    <i class="fas fa-times"></i>
                    H·ªßy
                </button>
                <button type="submit" class="modal-btn modal-btn-primary" form="createProfileForm">
                    <i class="fas fa-plus"></i>
                    T·∫°o
                </button>
            </div>
        </div>
    </div>

    <!-- Add Proxy Modal -->
    <div id="addProxyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Th√™m Proxy</h3>
                <button class="modal-close">&times;</button>
            </div>
            
            <!-- Proxy Mode Tabs -->
            <div class="proxy-mode-tabs">
                <button type="button" class="tab-btn active" data-mode="single">Th√™m 1 Proxy</button>
                <button type="button" class="tab-btn" data-mode="bulk">Import List</button>
            </div>

            <!-- Single Proxy Form -->
            <div id="singleProxyMode" class="proxy-mode active">
                <form id="addProxyForm">
                    <div class="form-group">
                        <label for="proxyHost">Host:</label>
                        <input type="text" id="proxyHost" required placeholder="127.0.0.1 ho·∫∑c proxy.example.com">
                    </div>
                    <div class="form-group">
                        <label for="proxyPort">Port:</label>
                        <input type="number" id="proxyPort" required placeholder="8080">
                    </div>
                    <div class="form-group">
                        <label for="proxyUsername">Username (t√πy ch·ªçn):</label>
                        <input type="text" id="proxyUsername" placeholder="T√™n ƒëƒÉng nh·∫≠p">
                    </div>
                    <div class="form-group">
                        <label for="proxyPassword">Password (t√πy ch·ªçn):</label>
                        <input type="password" id="proxyPassword" placeholder="M·∫≠t kh·∫©u">
                    </div>
                    <div class="form-group">
                        <label for="proxyType">Lo·∫°i Proxy:</label>
                        <select id="proxyType">
                            <option value="http">HTTP</option>
                            <option value="socks4">SOCKS4</option>
                            <option value="socks5">SOCKS5</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="modal-btn modal-btn-cancel modal-cancel">H·ªßy</button>
                        <button type="submit" class="modal-btn modal-btn-primary">Th√™m Proxy</button>
                    </div>
                </form>
            </div>

            <!-- Bulk Import Mode -->
            <div id="bulkProxyMode" class="proxy-mode">
                <form id="bulkProxyForm">
                    <div class="form-group">
                        <label for="proxyList">Danh s√°ch Proxy:</label>
                        <textarea id="proxyList" rows="10" placeholder="Nh·∫≠p danh s√°ch proxy (m·ªói proxy 1 d√≤ng)"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="defaultProxyType">Lo·∫°i proxy m·∫∑c ƒë·ªãnh (cho format host:port):</label>
                        <select id="defaultProxyType">
                            <option value="http">HTTP</option>
                            <option value="socks4">SOCKS4</option>
                            <option value="socks5">SOCKS5</option>
                        </select>
                    </div>
                    <div class="bulk-preview" id="bulkPreview" style="display: none;">
                        <h4>Preview (<span id="previewCount">0</span> proxies):</h4>
                        <div id="previewList" class="preview-list"></div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="modal-btn modal-btn-cancel modal-cancel">H·ªßy</button>
                        <button type="button" id="checkProxiesBtn" class="btn btn-info">
                            <i class="fas fa-search"></i> Check Proxy
                        </button>
                        <button type="submit" id="importProxiesBtn" class="modal-btn modal-btn-primary" disabled>
                            <i class="fas fa-plus"></i> Th√™m Proxy
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Profile Templates Modal -->
    <div id="templatesModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>Profile Templates</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="templates-content">
                <div class="templates-grid">
                    <div class="template-card" data-template="social-media">
                        <div class="template-icon">
                            <i class="fab fa-facebook"></i>
                        </div>
                        <h4>Social Media</h4>
                        <p>T·ªëi ∆∞u cho Facebook, Instagram, Twitter</p>
                        <ul>
                            <li>Extensions: AdBlock, SocialShare</li>
                            <li>Privacy: Medium</li>
                            <li>Performance: Optimized</li>
                        </ul>
                        <button class="btn btn-primary btn-sm" onclick="chromeManager.createFromTemplate('social-media')">
                            S·ª≠ d·ª•ng Template
                        </button>
                    </div>
                    
                    <div class="template-card" data-template="e-commerce">
                        <div class="template-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <h4>E-commerce</h4>
                        <p>D√†nh cho mua s·∫Øm online, affiliate</p>
                        <ul>
                            <li>Extensions: Honey, CashBack</li>
                            <li>Privacy: High</li>
                            <li>Auto-fill: Enabled</li>
                        </ul>
                        <button class="btn btn-primary btn-sm" onclick="chromeManager.createFromTemplate('e-commerce')">
                            S·ª≠ d·ª•ng Template
                        </button>
                    </div>
                    
                    <div class="template-card" data-template="development">
                        <div class="template-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <h4>Development</h4>
                        <p>Cho developers, testing, debugging</p>
                        <ul>
                            <li>Extensions: React DevTools, Redux</li>
                            <li>DevTools: Always open</li>
                            <li>CORS: Disabled</li>
                        </ul>
                        <button class="btn btn-primary btn-sm" onclick="chromeManager.createFromTemplate('development')">
                            S·ª≠ d·ª•ng Template
                        </button>
                    </div>
                    
                    <div class="template-card" data-template="privacy-focus">
                        <div class="template-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4>Privacy Focus</h4>
                        <p>B·∫£o m·∫≠t cao, duy·ªát web ·∫©n danh</p>
                        <ul>
                            <li>Extensions: uBlock Origin, Privacy Badger</li>
                            <li>Tracking: Disabled</li>
                            <li>JavaScript: Limited</li>
                        </ul>
                        <button class="btn btn-primary btn-sm" onclick="chromeManager.createFromTemplate('privacy-focus')">
                            S·ª≠ d·ª•ng Template
                        </button>
                    </div>
                    
                    <div class="template-card" data-template="gaming">
                        <div class="template-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <h4>Gaming</h4>
                        <p>T·ªëi ∆∞u cho gaming, streaming</p>
                        <ul>
                            <li>Extensions: GameBooster, Twitch</li>
                            <li>Performance: Maximum</li>
                            <li>Memory: Optimized</li>
                        </ul>
                        <button class="btn btn-primary btn-sm" onclick="chromeManager.createFromTemplate('gaming')">
                            S·ª≠ d·ª•ng Template
                        </button>
                    </div>
                    
                    <div class="template-card" data-template="business">
                        <div class="template-icon">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <h4>Business</h4>
                        <p>C√¥ng vi·ªác, h·ªçp online, productivity</p>
                        <ul>
                            <li>Extensions: Google Workspace, Zoom</li>
                            <li>Notifications: Enabled</li>
                            <li>Sync: Corporate</li>
                        </ul>
                        <button class="btn btn-primary btn-sm" onclick="chromeManager.createFromTemplate('business')">
                            S·ª≠ d·ª•ng Template
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bulk Actions Modal -->
    <div id="bulkActionsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Bulk Actions - <span id="selectedCount">0</span> profiles selected</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="bulk-actions-content">
                <div class="action-group">
                    <h4>Chrome Actions</h4>
                    <button class="btn btn-success" id="bulkStart">
                        <i class="fas fa-play"></i> Start Selected
                    </button>
                    <button class="btn btn-info" id="bulkStartSimple">
                        <i class="fas fa-rocket"></i> Start Simple (Env Auth) ‚úÖ
                    </button>
                    <button class="btn btn-warning" id="bulkStartPAC">
                        <i class="fas fa-shield-alt"></i> Start PAC (Enterprise) üèÜ
                    </button>
                    <button class="btn btn-primary" id="bulkStartPuppeteer">
                        <i class="fas fa-robot"></i> Start with Puppeteer (Auto Auth)
                    </button>
                    <button class="btn btn-danger" id="bulkStop">
                        <i class="fas fa-stop"></i> Stop Selected
                    </button>
                </div>
                
                <div class="action-group">
                    <h4>Profile Management</h4>
                    <button class="btn btn-warning" id="bulkExport">
                        <i class="fas fa-download"></i> Export Selected
                    </button>
                    <button class="btn btn-info" id="bulkClone">
                        <i class="fas fa-copy"></i> Clone Selected
                    </button>
                </div>
                
                <div class="action-group">
                    <h4>Proxy Management</h4>
                    <select id="bulkProxySelect">
                        <option value="">Choose proxy for selected profiles</option>
                    </select>
                    <button class="btn btn-primary" id="bulkAssignProxy">
                        <i class="fas fa-network-wired"></i> Assign Proxy
                    </button>
                </div>
                
                <div class="action-group dangerous">
                    <h4>Dangerous Actions</h4>
                    <button class="btn btn-danger" id="bulkDelete">
                        <i class="fas fa-trash"></i> Delete Selected
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Group Modal -->
    <div id="createGroupModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">T·∫°o Nh√≥m M·ªõi</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="createGroupForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="groupName">T√™n Nh√≥m: <span class="required">*</span></label>
                        <input type="text" 
                               id="groupName" 
                               name="groupName"
                               required 
                               placeholder="V√≠ d·ª•: Social Media, E-commerce, Work..."
                               minlength="2"
                               maxlength="30">
                        <small class="form-help">T√™n nh√≥m ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±</small>
                    </div>
                    <div class="form-group">
                        <label for="groupColor">M√†u nh√≥m:</label>
                        <select id="groupColor" name="groupColor">
                            <option value="blue">üîµ Xanh d∆∞∆°ng</option>
                            <option value="green">üü¢ Xanh l√°</option>
                            <option value="red">üî¥ ƒê·ªè</option>
                            <option value="orange">üü† Cam</option>
                            <option value="purple">üü£ T√≠m</option>
                            <option value="yellow">üü° V√†ng</option>
                            <option value="pink">ü©∑ H·ªìng</option>
                            <option value="gray">‚ö´ X√°m</option>
                        </select>
                        <small class="form-help">M√†u s·∫Øc ƒë·ªÉ d·ªÖ ph√¢n bi·ªát nh√≥m</small>
                    </div>
                    <div class="form-group">
                        <label for="groupDescription">M√¥ t·∫£ (t√πy ch·ªçn):</label>
                        <textarea id="groupDescription" 
                                  name="groupDescription" 
                                  placeholder="M√¥ t·∫£ m·ª•c ƒë√≠ch v√† n·ªôi dung c·ªßa nh√≥m..."
                                  rows="3"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="modal-btn modal-btn-cancel modal-close">H·ªßy</button>
                    <button type="submit" class="modal-btn modal-btn-primary">T·∫°o Nh√≥m</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Group Modal -->
    <div id="editGroupModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ch·ªânh S·ª≠a Nh√≥m</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="editGroupForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="editGroupName">T√™n Nh√≥m: <span class="required">*</span></label>
                        <input type="text" 
                               id="editGroupName" 
                               name="groupName"
                               required 
                               placeholder="V√≠ d·ª•: Social Media, E-commerce, Work..."
                               minlength="2"
                               maxlength="30">
                        <small class="form-help">T√™n nh√≥m ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±</small>
                    </div>
                    <div class="form-group">
                        <label for="editGroupColor">M√†u nh√≥m:</label>
                        <select id="editGroupColor" name="groupColor">
                            <option value="blue">üîµ Xanh d∆∞∆°ng</option>
                            <option value="green">üü¢ Xanh l√°</option>
                            <option value="red">üî¥ ƒê·ªè</option>
                            <option value="orange">üü† Cam</option>
                            <option value="purple">üü£ T√≠m</option>
                            <option value="yellow">üü° V√†ng</option>
                            <option value="pink">ü©∑ H·ªìng</option>
                            <option value="gray">‚ö´ X√°m</option>
                        </select>
                        <small class="form-help">M√†u s·∫Øc ƒë·ªÉ d·ªÖ ph√¢n bi·ªát nh√≥m</small>
                    </div>
                    <div class="form-group">
                        <label for="editGroupDescription">M√¥ t·∫£ (t√πy ch·ªçn):</label>
                        <textarea id="editGroupDescription" 
                                  name="groupDescription" 
                                  placeholder="M√¥ t·∫£ m·ª•c ƒë√≠ch v√† n·ªôi dung c·ªßa nh√≥m..."
                                  rows="3"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="modal-btn modal-btn-cancel modal-close">H·ªßy</button>
                    <button type="submit" class="modal-btn modal-btn-primary">C·∫≠p Nh·∫≠t</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>ƒêang x·ª≠ l√Ω...</p>
        </div>
    </div>

    <!-- Card Management Modal -->
    <div id="cardManagementModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Danh s√°ch th·∫ª</h3>
                <button type="button" class="modal-close" onclick="chromeManager.hideModal('cardManagementModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="card-management-container">
                    <div class="search-add-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="cardSearchInput" placeholder="T√¨m ki·∫øm...">
                        </div>
                        <button class="btn btn-success" id="addNewCardBtn">
                            <i class="fas fa-plus"></i> Th√™m th·∫ª m·ªõi
                        </button>
                    </div>
                    
                    <div class="cards-list-container">
                        <div class="cards-header">
                            <span>T√™n th·∫ª</span>
                            <span>H√†nh ƒë·ªông</span>
                        </div>
                        <div id="cardsList" class="cards-list">
                            <!-- Cards will be rendered here -->
                        </div>
                    </div>
                    
                    <div class="pagination-container">
                        <span>S·ªë d√≤ng m·ªói trang:</span>
                        <select id="cardsPerPage">
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="30" selected>30</option>
                            <option value="50">50</option>
                        </select>
                        <div class="pagination-info">
                            <span id="cardsPaginationInfo">1-4 tr√™n 4</span>
                            <button id="cardsPrevPage" class="pagination-btn" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button id="cardsNextPage" class="pagination-btn" disabled>
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Card Modal -->
    <div id="addCardModal" class="modal">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3 id="addCardModalTitle">Th√™m th·∫ª m·ªõi</h3>
                <button type="button" class="modal-close" onclick="chromeManager.hideModal('addCardModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addCardForm">
                    <div class="form-group">
                        <label for="cardName">T√™n th·∫ª *</label>
                        <input type="text" id="cardName" name="cardName" required 
                               placeholder="Nh·∫≠p t√™n th·∫ª...">
                    </div>
                    <div class="form-group">
                        <label for="cardNote">Ghi ch√∫</label>
                        <textarea id="cardNote" name="cardNote" rows="3" 
                                  placeholder="Ghi ch√∫ v·ªÅ th·∫ª (t√πy ch·ªçn)..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="modal-btn modal-btn-secondary" 
                                onclick="chromeManager.hideModal('addCardModal')">H·ªßy</button>
                        <button type="submit" class="modal-btn modal-btn-primary">L∆∞u</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Cards for Selected Profiles Modal -->
    <div id="editCardsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Th√™m/S·ª≠a Th·∫ª cho <span id="editCardsCount">0</span> h·ªì s∆°</h3>
                <button class="modal-close" onclick="chromeManager.hideModal('editCardsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="selected-profiles-preview" id="editCardsProfiles">
                    <!-- Selected profiles will be shown here -->
                </div>
                
                <div class="form-group">
                    <label for="selectedCard">Ch·ªçn th·∫ª:</label>
                    <select id="selectedCard" name="selectedCard">
                        <option value="">-- Ch·ªçn th·∫ª --</option>
                        <option value="remove">üóëÔ∏è G·ª° th·∫ª hi·ªán t·∫°i</option>
                        <!-- Cards s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                    </select>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-success btn-sm" id="createNewCardForProfiles">
                        <i class="fas fa-plus"></i> T·∫°o th·∫ª m·ªõi
                    </button>
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="chromeManager.hideModal('editCardsModal')">
                    H·ªßy
                </button>
                <button type="button" class="modal-btn modal-btn-primary" id="applyCardChanges">
                    <i class="fas fa-save"></i> √Åp d·ª•ng
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Groups for Selected Profiles Modal -->
    <div id="editGroupsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Th√™m/Chuy·ªÉn Nh√≥m cho <span id="editGroupsCount">0</span> h·ªì s∆°</h3>
                <button class="modal-close" onclick="chromeManager.hideModal('editGroupsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="selected-profiles-preview" id="editGroupsProfiles">
                    <!-- Selected profiles will be shown here -->
                </div>
                
                <div class="form-group">
                    <label for="selectedGroup">Ch·ªçn nh√≥m:</label>
                    <select id="selectedGroup" name="selectedGroup">
                        <option value="">-- Kh√¥ng nh√≥m --</option>
                        <option value="remove">üóëÔ∏è G·ª° kh·ªèi nh√≥m hi·ªán t·∫°i</option>
                        <!-- Groups s·∫Ω ƒë∆∞·ª£c load ƒë·ªông -->
                    </select>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-success btn-sm" id="createNewGroupForProfiles">
                        <i class="fas fa-plus"></i> T·∫°o nh√≥m m·ªõi
                    </button>
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="chromeManager.hideModal('editGroupsModal')">
                    H·ªßy
                </button>
                <button type="button" class="modal-btn modal-btn-primary" id="applyGroupChanges">
                    <i class="fas fa-save"></i> √Åp d·ª•ng
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Bookmarks for Selected Profiles Modal -->
    <div id="editBookmarksModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Th√™m d·∫•u trang cho <span id="editBookmarksCount">0</span> h·ªì s∆°</h3>
                <button class="modal-close" onclick="chromeManager.hideModal('editBookmarksModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="selected-profiles-preview" id="editBookmarksProfiles">
                    <!-- Selected profiles will be shown here -->
                </div>
                

                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-list"></i> Danh s√°ch d·∫•u trang
                        <button class="btn btn-success btn-sm" id="addBookmarkRow" style="float: right;">
                            <i class="fas fa-plus"></i> Th√™m
                        </button>
                    </label>
                    <div class="bookmarks-container" id="bookmarksContainer">
                        <div class="bookmark-row">
                            <div class="bookmark-input-group">
                                <label>T√™n</label>
                                <input type="text" class="bookmark-name" placeholder="Nh·∫≠p t√™n d·∫•u trang">
                            </div>
                            <div class="bookmark-input-group">
                                <label>URL</label>
                                <input type="text" class="bookmark-url" placeholder="Nh·∫≠p URL d·∫•u trang">
                            </div>
                            <button class="btn btn-danger btn-sm remove-bookmark">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="bookmark-row">
                            <div class="bookmark-input-group">
                                <label>T√™n</label>
                                <input type="text" class="bookmark-name" placeholder="Nh·∫≠p t√™n d·∫•u trang">
                            </div>
                            <div class="bookmark-input-group">
                                <label>URL</label>
                                <input type="text" class="bookmark-url" placeholder="Nh·∫≠p URL d·∫•u trang">
                            </div>
                            <button class="btn btn-danger btn-sm remove-bookmark">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="chromeManager.hideModal('editBookmarksModal')">
                    H·ªßy
                </button>
                <button type="button" class="modal-btn modal-btn-primary" id="applyBookmarks">
                    <i class="fas fa-bookmark"></i> Th√™m
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Tabs for Selected Profiles Modal -->
    <div id="editTabsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Qu·∫£n l√Ω Tabs cho <span id="editTabsCount">0</span> h·ªì s∆°</h3>
                <button class="modal-close" onclick="chromeManager.hideModal('editTabsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="selected-profiles-preview" id="editTabsProfiles">
                    <!-- Selected profiles will be shown here -->
                </div>
                
                <!-- Tab Action Selection -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-cog"></i> Ch·ªçn h√†nh ƒë·ªông
                    </label>
                    <select id="tabActionType" class="form-control" onchange="chromeManager && chromeManager.handleTabActionChange()">
                        <option value="add">Th√™m tabs m·ªõi</option>
                        <option value="manage">Qu·∫£n l√Ω tabs hi·ªán c√≥</option>
                    </select>
                </div>

                <!-- Add New Tabs Section -->
                <div id="addTabsSection" class="form-group">
                    <label class="form-label">
                        <i class="fas fa-browser"></i> Danh s√°ch URL tabs
                        <button class="btn btn-success btn-sm" id="addTabRow" style="float: right;">
                            <i class="fas fa-plus"></i> Th√™m
                        </button>
                    </label>
                    <div class="tabs-container" id="tabsContainer">
                        <div class="tab-row">
                            <div class="tab-input-group">
                                <label>URL</label>
                                <input type="text" class="tab-url" placeholder="Nh·∫≠p URL tab">
                            </div>
                            <button class="btn btn-danger btn-sm remove-tab">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="tab-row">
                            <div class="tab-input-group">
                                <label>URL</label>
                                <input type="text" class="tab-url" placeholder="Nh·∫≠p URL tab">
                            </div>
                            <button class="btn btn-danger btn-sm remove-tab">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Manage Existing Tabs Section -->
                <div id="manageTabsSection" class="form-group" style="display: none;">
                    <label class="form-label">
                        <i class="fas fa-trash"></i> Ch·∫ø ƒë·ªô x√≥a
                    </label>
                    <div class="tab-delete-options">
                        <div class="form-check">
                            <input type="radio" id="deleteAll" name="deleteMode" value="all">
                            <label for="deleteAll">X√≥a t·∫•t c·∫£ tabs</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" id="deleteByContent" name="deleteMode" value="content" checked>
                            <label for="deleteByContent">X√≥a theo URL c√≥ ch·ª©a n·ªôi dung</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" id="deleteByPattern" name="deleteMode" value="pattern">
                            <label for="deleteByPattern">X√≥a theo m·∫´u URL</label>
                        </div>
                    </div>
                    
                    <div id="deleteContentSection" class="form-group">
                        <label>N·ªôi dung URL c·∫ßn x√≥a:</label>
                        <input type="text" id="deleteContent" class="form-control" placeholder="VD: facebook.com">
                    </div>
                    
                    <div id="deletePatternSection" class="form-group" style="display: none;">
                        <label>M·∫´u URL c·∫ßn x√≥a:</label>
                        <input type="text" id="deletePattern" class="form-control" placeholder="VD: https://www.facebook.com/*">
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="chromeManager.hideModal('editTabsModal')">
                    H·ªßy
                </button>
                <button type="button" class="modal-btn modal-btn-primary" id="applyTabs">
                    <i class="fas fa-browser"></i> √Åp d·ª•ng
                </button>
            </div>
        </div>
    </div>

    <!-- Bulk Import Proxy Modal -->
    <div id="bulkImportProxyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-list"></i> Th√™m/S·ª≠a Proxy Cho <span id="bulkImportProxyCount">0</span> h·ªì s∆°</h3>
                <button class="modal-close" onclick="chromeManager.hideModal('bulkImportProxyModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Selected Profiles Preview -->
                <div id="bulkImportProxyProfiles" class="selected-profiles-preview">
                    <!-- Will be populated by JavaScript -->
                </div>

                <!-- Proxy Source Selection -->
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-cog"></i> Ch·ªçn ngu·ªìn proxy
                    </label>
                    <select id="proxySourceType" class="form-control" onchange="chromeManager.handleProxySourceChange()">
                        <option value="manual">Nh·∫≠p danh s√°ch proxy m·ªõi</option>
                        <option value="existing">L·∫•y proxy c√≥ s·∫µn t·ª´ h·ªá th·ªëng</option>
                        <option value="remove">G·ª° b·ªè proxy (kh√¥ng d√πng proxy)</option>
                    </select>
                </div>

                <!-- Manual Proxy Input Section -->
                <div id="manualProxySection" class="form-group">
                    <label class="form-label">
                        <i class="fas fa-list"></i> Danh s√°ch Proxy
                        <span class="form-label-hint">(M·ªói d√≤ng m·ªôt proxy)</span>
                    </label>
                    <textarea 
                        id="bulkProxyList" 
                        class="form-control" 
                        rows="10" 
                        placeholder="Nh·∫≠p danh s√°ch proxy, m·ªói d√≤ng m·ªôt proxy:&#10;&#10;ƒê·ªãnh d·∫°ng 1: ip:port:username:password&#10;192.168.1.1:8080:user:pass&#10;&#10;ƒê·ªãnh d·∫°ng 2: ip:port (kh√¥ng auth)&#10;192.168.1.2:8080&#10;&#10;ƒê·ªãnh d·∫°ng 3: URL&#10;http://user:pass@192.168.1.3:8080"
                        oninput="chromeManager.previewBulkProxies()"
                    ></textarea>
                </div>

                <!-- Existing Proxy Selection Section -->
                <div id="existingProxySection" class="form-group" style="display: none;">
                    <label class="form-label">
                        <i class="fas fa-server"></i> Ch·ªçn proxy c√≥ s·∫µn
                        <span class="form-label-hint">Ch·ªçn c√°c proxy t·ª´ danh s√°ch c√≥ s·∫µn</span>
                    </label>
                    <div class="existing-proxy-grid" id="existingProxyGrid">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Remove Proxy Section -->
                <div id="removeProxySection" class="form-group" style="display: none;">
                    <div class="info-box info-box-warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div>
                            <strong>G·ª° b·ªè proxy</strong>
                            <p>T·∫•t c·∫£ profiles ƒë√£ ch·ªçn s·∫Ω ƒë∆∞·ª£c c·∫•u h√¨nh ƒë·ªÉ kh√¥ng s·ª≠ d·ª•ng proxy n√†o.</p>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">
                        <i class="fas fa-cogs"></i> C√°ch ph√¢n b·ªï proxy
                    </label>
                    <select id="bulkProxyMethod" class="form-control">
                        <option value="sequential">Tu·∫ßn t·ª± - M·ªói profile m·ªôt proxy kh√°c nhau</option>
                        <option value="random">Ng·∫´u nhi√™n - Ph√¢n b·ªï ng·∫´u nhi√™n</option>
                        <option value="single">M·ªôt cho t·∫•t c·∫£ - T·∫•t c·∫£ d√πng proxy ƒë·∫ßu ti√™n</option>
                    </select>
                </div>

                <!-- Proxy Preview -->
                <div id="bulkProxyPreview" class="proxy-preview" style="display: none;">
                    <div class="preview-header">
                        <i class="fas fa-eye"></i>
                        <span>Xem tr∆∞·ªõc: <span id="bulkPreviewCount">0</span> proxy h·ª£p l·ªá</span>
                    </div>
                    <div class="preview-content" id="bulkProxyPreviewList">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="chromeManager.hideModal('bulkImportProxyModal')">
                    <i class="fas fa-times"></i> H·ªßy
                </button>
                <button type="button" class="modal-btn modal-btn-info" id="checkBulkProxiesBtn" onclick="chromeManager.checkBulkProxies()">
                    <i class="fas fa-flask"></i> Ki·ªÉm tra Proxy
                </button>
                <button type="button" class="modal-btn modal-btn-primary" id="applyBulkProxyChanges" onclick="chromeManager.applyBulkProxyChanges()">
                    <i class="fas fa-upload"></i> √Åp d·ª•ng
                </button>
            </div>
        </div>
    </div>

    <!-- Remove Proxy Confirmation Modal -->
    <div id="removeProxyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-unlink"></i> 
                    G·ª° b·ªè proxy
                </h3>
            </div>
            <div class="modal-body">
                <p id="removeProxyMessage">
                    B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën g·ª° b·ªè proxy kh·ªèi c√°c h·ªì s∆° ƒë√£ ch·ªçn?
                </p>
                <div class="selected-count" id="removeProxyCount">
                    <!-- Count will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="modal-btn modal-btn-secondary" id="cancelRemoveProxyBtn">
                    H·ªßy
                </button>
                <button type="button" class="modal-btn modal-btn-primary" id="confirmRemoveProxyBtn">
                    G·ª° b·ªè
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteConfirmModal" class="modal">
        <div class="modal-content confirm-modal">
            <div class="confirm-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="confirm-content">
                <h3 class="confirm-title">X√°c nh·∫≠n x√≥a h·ªì s∆°</h3>
                <p class="confirm-message" id="deleteConfirmMessage">
                    B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a c√°c h·ªì s∆° ƒë√£ ch·ªçn?
                </p>
                <div class="confirm-details" id="deleteConfirmDetails">
                    <!-- Profile list will be populated here -->
                </div>
                <div class="confirm-warning">
                    <div class="warning-header">
                        <i class="fas fa-shield-alt"></i>
                        <strong>C·∫£nh b√°o quan tr·ªçng</strong>
                    </div>
                    <p>T·∫•t c·∫£ d·ªØ li·ªáu Chrome c·ªßa c√°c h·ªì s∆° n√†y s·∫Ω b·ªã x√≥a vƒ©nh vi·ªÖn:</p>
                    <ul class="warning-list">
                        <li><i class="fas fa-bookmark"></i> Bookmarks</li>
                        <li><i class="fas fa-history"></i> L·ªãch s·ª≠ duy·ªát web</li>
                        <li><i class="fas fa-cookie"></i> Cookies v√† Session</li>
                        <li><i class="fas fa-key"></i> M·∫≠t kh·∫©u ƒë√£ l∆∞u</li>
                        <li><i class="fas fa-puzzle-piece"></i> D·ªØ li·ªáu Extensions</li>
                        <li><i class="fas fa-database"></i> Cache v√† d·ªØ li·ªáu kh√°c</li>
                    </ul>
                    <div class="warning-footer">
                        <i class="fas fa-exclamation-circle"></i>
                        <strong>H√†nh ƒë·ªông n√†y KH√îNG TH·ªÇ HO√ÄN T√ÅC!</strong>
                    </div>
                </div>
            </div>
            <div class="confirm-actions">
                <button class="confirm-btn confirm-btn-cancel" id="cancelDeleteBtn">
                    <i class="fas fa-times"></i>
                    <span>H·ªßy b·ªè</span>
                </button>
                <button class="confirm-btn confirm-btn-danger" id="confirmDeleteBtn">
                    <i class="fas fa-trash-alt"></i>
                    <span>X√≥a vƒ©nh vi·ªÖn</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Card Management Modal -->
    <div id="cardManagementModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Qu·∫£n l√Ω Th·∫ª</h3>
                <button class="modal-close" onclick="chromeManager.hideModal('cardManagementModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="card-management-content">
                    <div class="card-actions-header">
                        <button class="btn btn-primary" id="addNewCardBtn">
                            <i class="fas fa-plus"></i> Th√™m th·∫ª m·ªõi
                        </button>
                    </div>
                    <div class="cards-table-container">
                        <table class="cards-table">
                            <thead>
                                <tr>
                                    <th>T√™n th·∫ª</th>
                                    <th>Ghi ch√∫</th>
                                    <th>Ng√†y t·∫°o</th>
                                    <th>H√†nh ƒë·ªông</th>
                                </tr>
                            </thead>
                            <tbody id="cardsTableBody">
                                <!-- Cards will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination-info" id="cardsPaginationInfo">
                        <!-- Pagination info will be shown here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Card Modal -->
    <div id="cardFormModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="cardFormTitle">Th√™m th·∫ª m·ªõi</h3>
                <button class="modal-close" onclick="chromeManager.hideModal('cardFormModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="cardForm">
                    <div class="form-group">
                        <label for="cardName">T√™n th·∫ª: <span class="required">*</span></label>
                        <input type="text" id="cardName" name="cardName" required 
                               placeholder="Nh·∫≠p t√™n th·∫ª..." maxlength="50">
                    </div>
                    <div class="form-group">
                        <label for="cardNote">Ghi ch√∫:</label>
                        <textarea id="cardNote" name="cardNote" rows="3" 
                                  placeholder="Ghi ch√∫ v·ªÅ th·∫ª (t√πy ch·ªçn)..." maxlength="200"></textarea>
                    </div>
                </form>
            </div>
            <div class="form-actions">
                <button type="button" class="modal-btn modal-btn-secondary" onclick="chromeManager.hideModal('cardFormModal')">
                    H·ªßy
                </button>
                <button type="submit" class="modal-btn modal-btn-primary" form="cardForm">
                    <i class="fas fa-save"></i> L∆∞u th·∫ª
                </button>
            </div>
        </div>
    </div>

    <!-- Custom Confirm Modal -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-question-circle"></i>
                    <span id="confirmTitle">X√°c nh·∫≠n</span>
                </h3>
            </div>
            <div class="modal-body">
                <p id="confirmMessage">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën th·ª±c hi·ªán h√†nh ƒë·ªông n√†y?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="modal-btn modal-btn-secondary" id="confirmCancel">
                    <i class="fas fa-times"></i> H·ªßy
                </button>
                <button type="button" class="modal-btn modal-btn-primary" id="confirmOk">
                    <i class="fas fa-check"></i> ƒê·ªìng √Ω
                </button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
